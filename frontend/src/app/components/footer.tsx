import { fetchStrapi } from "@/utils/strapi";
import { FOOTER_QUERY } from "@/queries/footer";
import Link from "next/link";

const SOCIALS = {
  facebook: (
    <svg
      width="25"
      height="25"
      viewBox="0 0 25 25"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path d="M20.845 1.99707H4.04502C2.72502 1.99707 1.64502 3.07707 1.64502 4.39707V21.1971C1.64502 22.5183 2.72502 23.5971 4.04502 23.5971H12.445V15.1971H10.045V12.2271H12.445V9.76707C12.445 7.17027 13.8994 5.34627 16.9642 5.34627L19.1278 5.34867V8.47467H17.6914C16.4986 8.47467 16.045 9.36987 16.045 10.2003V12.2283H19.1266L18.445 15.1971H16.045V23.5971H20.845C22.165 23.5971 23.245 22.5183 23.245 21.1971V4.39707C23.245 3.07707 22.165 1.99707 20.845 1.99707Z" />
    </svg>
  ),
  twitter: (
    <svg
      width="25"
      height="25"
      viewBox="0 0 25 25"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path d="M20.845 1.99707H4.04502C2.72502 1.99707 1.64502 3.07707 1.64502 4.39707V21.1971C1.64502 22.5183 2.72502 23.5971 4.04502 23.5971H20.845C22.165 23.5971 23.245 22.5183 23.245 21.1971V4.39707C23.245 3.07707 22.165 1.99707 20.845 1.99707ZM12.4258 19.4247C14.1884 19.424 15.8785 18.7235 17.1247 17.4771C18.3709 16.2307 19.0711 14.5404 19.0714 12.7779C19.0714 12.3723 19.0198 11.9811 18.9478 11.5971H20.845V20.2563C20.845 20.3653 20.8235 20.4733 20.7817 20.574C20.7398 20.6747 20.6785 20.7661 20.6012 20.843C20.524 20.92 20.4323 20.9809 20.3314 21.0223C20.2305 21.0637 20.1225 21.0847 20.0134 21.0843H4.87662C4.76758 21.0847 4.65953 21.0637 4.55865 21.0223C4.45778 20.9809 4.36608 20.92 4.28881 20.843C4.21154 20.7661 4.15023 20.6747 4.10839 20.574C4.06655 20.4733 4.04502 20.3653 4.04502 20.2563V11.5971H5.90382C5.83062 11.9811 5.77902 12.3723 5.77902 12.7779C5.77934 14.5406 6.47973 16.2311 7.72617 17.4775C8.97262 18.724 10.6631 19.4244 12.4258 19.4247ZM8.27262 12.7779C8.27262 12.2325 8.38005 11.6924 8.58876 11.1885C8.79748 10.6846 9.1034 10.2268 9.48906 9.84111C9.87472 9.45545 10.3326 9.14953 10.8365 8.94081C11.3403 8.7321 11.8804 8.62467 12.4258 8.62467C12.9712 8.62467 13.5113 8.7321 14.0152 8.94081C14.5191 9.14953 14.9769 9.45545 15.3626 9.84111C15.7482 10.2268 16.0542 10.6846 16.2629 11.1885C16.4716 11.6924 16.579 12.2325 16.579 12.7779C16.579 13.8794 16.1415 14.9358 15.3626 15.7146C14.5837 16.4935 13.5273 16.9311 12.4258 16.9311C11.3243 16.9311 10.2679 16.4935 9.48906 15.7146C8.71019 14.9358 8.27262 13.8794 8.27262 12.7779ZM20.0134 7.99707H18.0754C17.8554 7.99644 17.6445 7.90875 17.4889 7.75315C17.3333 7.59756 17.2457 7.38671 17.245 7.16667V5.22627C17.245 4.76787 17.617 4.39707 18.0742 4.39707H20.0122C20.473 4.39707 20.845 4.76787 20.845 5.22627V7.16547C20.845 7.62267 20.473 7.99707 20.0134 7.99707Z" />
    </svg>
  ),
  instagram: (
    <svg
      width="25"
      height="25"
      viewBox="0 0 25 25"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <g clip-path="url(#clip0_123_741)">
        <path d="M12.4448 3.55664C0.651224 3.55664 0.444824 4.60544 0.444824 12.7966C0.444824 20.9878 0.651224 22.0366 12.4448 22.0366C24.2384 22.0366 24.4448 20.9878 24.4448 12.7966C24.4448 4.60544 24.2384 3.55664 12.4448 3.55664ZM16.2908 13.1974L10.9028 15.7126C10.4312 15.931 10.0448 15.6862 10.0448 15.1654V10.4278C10.0448 9.90824 10.4312 9.66224 10.9028 9.88064L16.2908 12.3958C16.7624 12.6166 16.7624 12.9766 16.2908 13.1974Z" />
      </g>
      <defs>
        <clipPath id="clip0_123_741">
          <rect
            width="24"
            height="24"
            fill="white"
            transform="translate(0.444824 0.796875)"
          />
        </clipPath>
      </defs>
    </svg>
  ),
  youtube: "",
  linkedin: "",
};

export default async function Footer() {
  const data = await fetchStrapi({ query: FOOTER_QUERY, key: "footer" })();

  return (
    <footer className="footer">
      <div className="container">
        <div className="row">
          <div className="col-2">Wholistic</div>
          <div className="col-3">
            <nav className="nav">
              <ul>
                {data.links.slice(0, 6).map(({ title, href }) => (
                  <li key={title}>
                    <Link href={href || "#"}>{title}</Link>
                  </li>
                ))}
              </ul>
              <ul>
                {data.links.slice(5).map(({ title, href }) => (
                  <li key={title}>
                    <Link href={href || "#"}>{title}</Link>
                  </li>
                ))}
              </ul>
            </nav>
          </div>
          <div className="col-3">
            <div className="social">
              <p>Stay Connected</p>
              <ul className="social-icons">
                {data.socials.map(({ title, href }) => (
                  <li>
                    <Link href={href || "#"} key={title}>
                      {SOCIALS[title]}
                    </Link>
                  </li>
                ))}
              </ul>
            </div>
            <div className="copyrights">
              <p dangerouslySetInnerHTML={{ __html: data.copyright }} />
            </div>
          </div>
        </div>
      </div>
    </footer>
  );
}
